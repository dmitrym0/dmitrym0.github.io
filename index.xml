<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>Dmitry M</title>
        <link>https://dmitrym0.github.com/</link>
        <description>Dmitry M blog thing</description>
        <docs>http://blogs.law.harvard.edu/tech/rss</docs>
        <language>en</language>
        <pubDate>Thu, 30 Aug 2018 14:50:00 -0700</pubDate>
        <lastBuildDate>Thu, 30 Aug 2018 14:50:00 -0700</lastBuildDate>
        <atom:link href="https://dmitrym0.github.com/index.xml" rel="self" type="application/rss+xml"/>
	<item>
		<title><![CDATA[efficient commit workflow with tig]]></title>
		<description><![CDATA[<h1>efficient commit workflow with tig</h1>
<p>One of the recommended source control practices is to <a href="http://stackoverflow.com/questions/107264/how-often-to-commit-changes-to-source-control">commit frequently, and often</a>.   I prefer to keep my commits terse and focused, however in practice I’m working on a couple related but independent things in parallel. At commit time, I prefer to tease loosely related things apart and commit them separately. </p>
<p>One way to do that is with the interactive git-add facility that can be invoked with <code>git add -p</code>:</p>
<img src="images/885D7D62-4C88-470D-9745-DA5202080E5B.png">
<p>It’s a lovely little interface:</p>
<ul>
<li>file name is shown at the top of the output</li>
<li>location of the change set is shown</li>
<li>the prompt is asking whether I want to stage the change (“y”),  ignore the changes this file (“d”) and various other obscure options.</li>
</ul>
<p>This process works for the majority of my commit needs. It allows me to review every change before staging it to ensure that only necessary changes get pushed to the central repo.</p>
<p>My main issue with this process is that it’s too linear. When the number of changes exceeds a certain threshold I have trouble remembering what functionality I’m currently committing. I can’t easily inspect the existing staged hunks. The process becomes cumbersome. </p>
<p>This is where <a href="http://jonas.nitro.dk/tig/">tig</a>, a <em>text-mode interface for Git</em> comes in. I’m a huge fan of console tools because they are incredibly fast and <em>tig</em> is no exception. </p>
<p>Upon launching <em>tig</em> you’re presented with the following view:</p>
<img src="images/52EF34AA-B701-4F45-8CF3-639718C7A16B.png">
<p>I’m currently interested in the “unstaged changes”. Hitting <code>enter</code> shows a diff between HEAD and current working directory. </p>
<p>But we’re interested more in the stage view that can be activated by hitting <code>S</code> (case matters!):</p>
<img src="images/40535893-241B-465B-BDBB-1E547CD9F686.png">
<p>This view should be familiar to anyone who has used <code>git status</code>.  This main view can be navigated with arrow keys. Hitting <code>enter</code> on a file name  will show a secondary window with a diff. This view can be navigated with the <code>j</code> and <code>k</code> keys (vi-like).</p>
<img src="images/845B9D78-DC30-4AFF-9504-B8EFE7E2BF0D.png">
<p>At this point, we can select individuals lines to stage with the <code>1</code> key, or hit <code>u</code> to stage the whole file.  Individual lines can be staged when there’s some cruft you don’t want to commit - such as debugging statements.</p>
<p>When all changes have been staged, you can hit  <code>C</code> to commit from inside <em>tig</em>, or exit (<code>q</code>) and commit as you normally would from command line.</p>
<p>Here’s a small <a href="http://ricostacruz.com/cheatsheets/tig.html">Tig cheatsheet</a>  for reference.</p>]]></description>
		<link>https://dmitrym0.github.com/efficient%20commit%20workflow%20with%20tig.html</link>
		<pubDate>Thu, 30 Aug 2018 14:50:00 -0700</pubDate>
		<guid isPermaLink="true">https://dmitrym0.github.com/efficient%20commit%20workflow%20with%20tig.html</guid>
	</item>
	<item>
		<title><![CDATA[ncdu - ncurses disk usage]]></title>
		<description><![CDATA[<h1>ncdu - ncurses disk usage</h1>
<img src="images/C4E2CBC7-B430-42C7-A97B-29C687793DA3.png">
<p>At some point harddrive space was cheap, but with the advent of SSDs and cheap “Cloud VMs” that is no longer the case. For example, the cheapest VM on VULTR is $5/month and has a 15 gig SSD drive. It's suddenly very important to maximize drive usage again. This is where <a href="https://dev.yorhel.nl/ncdu">ncdu</a> comes in. It displays a nice ncurses interface that visualizes the usage breakdown.</p>
<p>So useful key bindings:</p>
<ul>
<li><code>?</code> - help</li>
<li><code>g</code> - to switch display modes</li>
<li><code>d</code> - to kill a subdirectory tree</li>
</ul>
<p>There's a commercial app for Mac that I use and love (because my Mac only has a 256 SSD) called <a href="https://daisydiskapp.com/">DaisyDisk</a>.</p>
<p>/devops</p>]]></description>
		<link>https://dmitrym0.github.com/ncdu%20-%20ncurses%20disk%20usage.html</link>
		<pubDate>Wed, 07 Dec 2016 19:03:00 -0800</pubDate>
		<guid isPermaLink="true">https://dmitrym0.github.com/ncdu%20-%20ncurses%20disk%20usage.html</guid>
	</item>
    </channel>
</rss>
